# תוכנית עבודה לשיפור Zero Agent
## מבוסס על תוצאות הבדיקות - Agent_Full_Eval_V2

**תאריך יצירה**: 2025-10-31  
**ממוצע כללי**: 6.35/10  
**זמן הבדיקות**: 7.29 דקות

---

## 📊 סיכום הבעיות

### בעיות קריטיות (דרוש טיפול מיידי):
1. **Memory & Context Retention** - ציון: 3.70/10 ❌
   - בדיקות 16, 17 נכשלו (0.0/10)
   - לא זוכר מידע מהבדיקות הקודמות
   - לא מזהה הקשר בין בדיקות

2. **Reasoning & Logic** - ציון: 5.10/10 ⚠️
   - בדיקה 6 קיבלה 0.0 (למרות תשובה נכונה!)
   - בעיות בפתרון בעיות לוגיות מורכבות

### בעיות לשיפור (בינוניות):
3. **Voice Interaction** - ציון: 6.00/10
4. **Tool Integration** - ציון: 6.10/10
5. **Coding & Debugging** - ציון: 6.30/10

### חוזקות (לשמור ולהוביל):
- ✅ **Knowledge** - 8.00/10
- ✅ **Web Search & Real-Time Knowledge** - 7.75/10
- ✅ **Self Awareness & Reflection** - 7.70/10

---

## 🎯 תוכנית עבודה - שלבים

### שלב 1: תיקון קריטי - מערכת זיכרון והקשר (Priority: HIGHEST)

#### מטרות:
- להבטיח שהסוכן זוכר מידע מהבדיקות הקודמות
- לשפר את יכולת שמירת עובדות אישיות
- לתקן את בדיקות 16, 17 שכשלו

#### משימות:

**1.1 שיפור מערכת הזיכרון ב-API** (זמן משוער: 2-3 שעות)
- [ ] לבדוק איך `conversation_history` מועבר ב-API
- [ ] להוסיף שמירת עובדות אישיות ב-`personal_facts` collection
- [ ] לוודא שהסוכן משתמש ב-RAG Memory System לשאילתות זיכרון
- [ ] לבדוק את `zero_agent/rag/memory.py` ולהבטיח שהוא משמר מידע

**קבצים לעריכה:**
- `api_server.py` - חלק ה-chat endpoint
- `zero_agent/rag/memory.py` - הוספת פונקציות לזכירת עובדות
- `zero_agent/tests/run_agent_tests.py` - שיפור העברת הקשר

**1.2 הוספת מנגנון "זכור עובדה"** (זמן משוער: 2 שעות)
- [ ] להוסיף זיהוי אוטומטי של בקשות לזכירה ("Remember:", "זכור:")
- [ ] להוסיף פונקציה `store_personal_fact()` ב-RAG Memory
- [ ] להוסיף פונקציה `recall_personal_fact()` לשליפה

**קבצים חדשים/עריכה:**
- `zero_agent/rag/memory.py` - הוספת פונקציות זכירה
- `api_server.py` - זיהוי בקשות זכירה לפני שליחה ל-LLM

**1.3 שיפור העברת הקשר בבדיקות** (זמן משוער: 1 שעה)
- [ ] לבדוק את `conversation_history` ב-`run_agent_tests.py`
- [ ] לוודא שכל ההודעות הקודמות מועברות
- [ ] להוסיף בדיקת זיכרון בין בדיקות

**קבצים לעריכה:**
- `zero_agent/tests/run_agent_tests.py` - שיפור שיתוף הקשר

---

### שלב 2: תיקון מערכת הערכה (Priority: HIGH)

#### מטרות:
- לתקן את בדיקה 6 שקיבלה 0.0 למרות תשובה נכונה (32)
- לשפר את מערכת הניקוד האוטומטית

#### משימות:

**2.1 תיקון מערכת ההערכה** (זמן משוער: 1-2 שעות)
- [ ] לתקן את `_evaluate_response()` ב-`run_agent_tests.py`
- [ ] להוסיף בדיקות נכונות לשאלות לוגיות
- [ ] להוסיף בדיקות למספרים נכונים בתשובות

**קבצים לעריכה:**
- `zero_agent/tests/run_agent_tests.py` - פונקציה `_evaluate_response()`

**2.2 שיפור זיהוי תשובות נכונות** (זמן משוער: 1 שעה)
- [ ] להוסיף regex לזיהוי מספרים בתשובות
- [ ] להוסיף בדיקת תשובות קצרות (כמו "32")
- [ ] לשפר בדיקות לוגיות

---

### שלב 3: שיפור יכולות הסקה לוגיות (Priority: MEDIUM)

#### מטרות:
- לשפר את הציון מ-5.10/10 ל-7.0+/10
- לטפל בבעיות לוגיות מורכבות יותר

#### משימות:

**3.1 שיפור ה-prompt להסקה לוגית** (זמן משוער: 2 שעות)
- [ ] להוסיף דוגמאות להסקה לוגית ב-system prompt
- [ ] לשפר את `enhanced_system_prompt.py` עם דוגמאות לוגיות
- [ ] להוסיף הנחיות לפתרון בעיות לוגיות צעד אחר צעד

**קבצים לעריכה:**
- `enhanced_system_prompt.py` - הוספת הנחיות לוגיות

**3.2 הוספת כלי עזר להסקה** (זמן משוער: 2-3 שעות)
- [ ] ליצור `tool_logic_solver.py` לעזרה בבעיות לוגיות
- [ ] להוסיף פונקציות עזר לפתרון בעיות מתמטיות ולוגיות
- [ ] לשלב את הכלי ב-Agent Orchestrator

**קבצים חדשים:**
- `zero_agent/tools/tool_logic_solver.py`

---

### שלב 4: שיפור אינטגרציית כלים (Priority: MEDIUM)

#### מטרות:
- לשפר את הציון מ-6.10/10 ל-7.5+/10
- להבטיח שהכלים עובדים כראוי

#### משימות:

**4.1 בדיקת כל הכלים** (זמן משוער: 2 שעות)
- [ ] לבדוק כל כלי ב-`zero_agent/tools/`
- [ ] לתקן כל בעיה שמתגלה
- [ ] להוסיף הודעות שגיאה ברורות יותר

**4.2 שיפור זיהוי שימוש בכלים** (זמן משוער: 2 שעות)
- [ ] לשפר את זיהוי מתי להשתמש בכלי
- [ ] להוסיף דוגמאות שימוש בכלים ב-prompts
- [ ] לשפר את התיעוד של כל כלי

**קבצים לעריכה:**
- `zero_agent/core/react_framework.py` - שיפור זיהוי כלים
- `enhanced_system_prompt.py` - הוספת דוגמאות כלים

---

### שלב 5: שיפור יכולות קול (Priority: LOW)

#### מטרות:
- לשפר את הציון מ-6.00/10 ל-7.0+/10

#### משימות:

**5.1 שיפור TTS** (זמן משוער: 2 שעות)
- [ ] לבדוק את `tts_service.py`
- [ ] לשפר את איכות הקול
- [ ] להוסיף תמיכה בעברית טובה יותר

**קבצים לעריכה:**
- `tts_service.py`
- `tts_service_gtts.py`

**5.2 שיפור זיהוי קול (STT)** (זמן משוער: 2 שעות)
- [ ] לבדוק את `stt_service_faster_whisper.py`
- [ ] לשפר את דיוק הזיהוי
- [ ] להוסיף תמיכה בעברית

---

### שלב 6: שיפור Coding & Debugging (Priority: MEDIUM)

#### מטרות:
- לשפר את הציון מ-6.30/10 ל-7.5+/10

#### משימות:

**6.1 שיפור איכות קוד** (זמן משוער: 3 שעות)
- [ ] להוסיף בדיקות לוגיקה בקוד שנוצר
- [ ] לשפר את ה-prompt ליצירת קוד
- [ ] להוסיף דוגמאות קוד טובות יותר

**6.2 שיפור יכולות Debugging** (זמן משוער: 2 שעות)
- [ ] לשפר את זיהוי באגים בקוד
- [ ] להוסיף הסברים טובים יותר לתיקונים
- [ ] לשפר את ה-prompt ל-debugging

---

## 📅 לוח זמנים מוצע

### שבוע 1: שלבים 1-2 (קריטי)
- **יום 1-2**: שלב 1.1 - שיפור מערכת הזיכרון
- **יום 3**: שלב 1.2 - מנגנון זכירת עובדות
- **יום 4**: שלב 1.3 - שיפור העברת הקשר
- **יום 5**: שלב 2 - תיקון מערכת הערכה

**סה"כ: 8-10 שעות**

### שבוע 2: שלבים 3-4
- **יום 1-2**: שלב 3 - שיפור יכולות לוגיות
- **יום 3-4**: שלב 4 - שיפור אינטגרציית כלים

**סה"כ: 8-10 שעות**

### שבוע 3: שלבים 5-6 (אופציונלי)
- **יום 1-2**: שלב 5 - שיפור קול
- **יום 3-4**: שלב 6 - שיפור Coding

**סה"כ: 8-10 שעות**

---

## 🧪 בדיקות לאחר שיפורים

לאחר כל שלב, יש להריץ מחדש את הבדיקות:

```bash
cd zero_agent/tests
python run_agent_tests.py
```

### יעדי שיפור:

| קטגוריה | ציון נוכחי | יעד | שיפור |
|---------|-----------|-----|-------|
| Memory & Context Retention | 3.70 | 7.5+ | +3.8 |
| Reasoning & Logic | 5.10 | 7.0+ | +1.9 |
| Voice Interaction | 6.00 | 7.0+ | +1.0 |
| Tool Integration | 6.10 | 7.5+ | +1.4 |
| Coding & Debugging | 6.30 | 7.5+ | +1.2 |

### יעד ממוצע כולל:
- **נוכחי**: 6.35/10
- **יעד**: 7.5+/10
- **שיפור**: +1.15 נקודות

---

## 📝 הערות חשובות

1. **עדיפות**: להתחיל בשלבים 1-2 (קריטי) לפני השאר
2. **בדיקות**: להריץ בדיקות אחרי כל שלב
3. **תיעוד**: לתעד כל שינוי בקוד
4. **גיבויים**: ליצור גיבוי לפני שינויים גדולים

---

## 🔧 כלים וקבצים מרכזיים

### קבצים לעריכה:
- `api_server.py` - ה-API הראשי
- `enhanced_system_prompt.py` - ה-prompt של הסוכן
- `zero_agent/rag/memory.py` - מערכת הזיכרון
- `zero_agent/tests/run_agent_tests.py` - מערכת הבדיקות
- `zero_agent/core/react_framework.py` - React framework

### קבצים חדשים:
- `zero_agent/tools/tool_logic_solver.py` - כלי עזר לוגי

---

## ✅ רשימת בדיקה (Checklist)

### לפני התחלה:
- [ ] גיבוי של כל הקבצים
- [ ] יצירת branch ב-Git
- [ ] קריאת כל התיעוד הרלוונטי

### במהלך העבודה:
- [ ] לבדוק כל שינוי לפני commit
- [ ] להריץ בדיקות אחרי כל שינוי גדול
- [ ] לתעד את השינויים

### בסיום:
- [ ] להריץ את כל הבדיקות
- [ ] לבדוק שאין regressions
- [ ] לעדכן תיעוד
- [ ] ליצור commit עם שינויים

---

**נוצר ב**: 2025-10-31  
**עדכן אחרון**: 2025-10-31  
**מחבר**: Auto (מבוסס על תוצאות בדיקות)

